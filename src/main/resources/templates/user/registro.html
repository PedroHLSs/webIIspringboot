<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8" />
    <title>Cadastro de Usuários</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>

<body>
    <header>
        <ul class="nav justify-content-end">
            <li class="nav-item">
                <a class="nav-link" th:href="@{/}">Acervo</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">Sobre a Biblioteca</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" th:href="@{/registro}">Serviços</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" th:href="@{/login}">Acesse</a>
            </li>
        </ul>
    </header>

    <section class="section-registro d-flex justify-content-center align-items-center">
        <div class="card p-4 mx-auto shadow-lg" style="max-width: 500px; width: 100%;">
            <h3 class="text-center mb-4">Cadastre-se</h3>

            <form th:action="@{/criarUsuario}" th:object="${usuario}" method="post">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

                <div class="mb-3">
                    <label for="nome" class="form-label">Nome</label>
                    <input class="form-control" type="text" placeholder="Digite seu nome completo" th:field="*{nome}"
                        required />
                </div>

                <div class="mb-3">
                    <label for="email" class="form-label">Email</label>
                    <input type="email" class="form-control" id="email" th:field="*{email}"
                        placeholder="Digite seu melhor e-mail" required>
                </div>

                <div class="mb-3">
                    <label for="senha" class="form-label">Senha</label>
                    <input type="password" class="form-control" id="senha" th:field="*{senha}"
                        placeholder="Crie sua senha" required>
                </div>

                <div class="mb-4">
                    <span class="d-block mb-2">Escolha seu cargo:</span>
                    <div class="btn-group w-100" role="group" aria-label="Escolha de Cargo">
                        <input type="checkbox" th:field="*{roles}" value="Admin" class="btn-check" id="btn-role-admin"
                            autocomplete="off">
                        <label class="btn btn-outline-primary" for="btn-role-admin">Administrador</label>

                        <input type="checkbox" th:field="*{roles}" value="Aluno" class="btn-check" id="btn-role-aluno"
                            autocomplete="off">
                        <label class="btn btn-outline-primary" for="btn-role-aluno">Aluno</label>

                        <input type="checkbox" th:field="*{roles}" value="Professor" class="btn-check"
                            id="btn-role-professor" autocomplete="off">
                        <label class="btn btn-outline-primary" for="btn-role-professor">Professor</label>
                    </div>
                </div>

                <div class="d-grid gap-2">
                    <button type="submit" class="btn btn-primary">
                        Cadastrar
                    </button>
                    <a th:href="@{/login}" class="btn btn-link text-decoration-none mt-2">
                        Já tem conta? Entrar
                    </a>
                </div>
            </form>

            <div th:if="${mensagem}" class="alert alert-info mt-3 text-center" role="alert" th:text="${mensagem}"></div>
        </div>
    </section>

    <footer>
        <br><br>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>
</body>

</html>